{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Parser = void 0;\nvar Tokenizer_js_1 = __importStar(require(\"./Tokenizer.js\"));\nvar decode_js_1 = require(\"entities/lib/decode.js\");\nvar formTags = new Set([\"input\", \"option\", \"optgroup\", \"select\", \"button\", \"datalist\", \"textarea\"]);\nvar pTag = new Set([\"p\"]);\nvar tableSectionTags = new Set([\"thead\", \"tbody\"]);\nvar ddtTags = new Set([\"dd\", \"dt\"]);\nvar rtpTags = new Set([\"rt\", \"rp\"]);\nvar openImpliesClose = new Map([[\"tr\", new Set([\"tr\", \"th\", \"td\"])], [\"th\", new Set([\"th\"])], [\"td\", new Set([\"thead\", \"th\", \"td\"])], [\"body\", new Set([\"head\", \"link\", \"script\"])], [\"li\", new Set([\"li\"])], [\"p\", pTag], [\"h1\", pTag], [\"h2\", pTag], [\"h3\", pTag], [\"h4\", pTag], [\"h5\", pTag], [\"h6\", pTag], [\"select\", formTags], [\"input\", formTags], [\"output\", formTags], [\"button\", formTags], [\"datalist\", formTags], [\"textarea\", formTags], [\"option\", new Set([\"option\"])], [\"optgroup\", new Set([\"optgroup\", \"option\"])], [\"dd\", ddtTags], [\"dt\", ddtTags], [\"address\", pTag], [\"article\", pTag], [\"aside\", pTag], [\"blockquote\", pTag], [\"details\", pTag], [\"div\", pTag], [\"dl\", pTag], [\"fieldset\", pTag], [\"figcaption\", pTag], [\"figure\", pTag], [\"footer\", pTag], [\"form\", pTag], [\"header\", pTag], [\"hr\", pTag], [\"main\", pTag], [\"nav\", pTag], [\"ol\", pTag], [\"pre\", pTag], [\"section\", pTag], [\"table\", pTag], [\"ul\", pTag], [\"rt\", rtpTags], [\"rp\", rtpTags], [\"tbody\", tableSectionTags], [\"tfoot\", tableSectionTags]]);\nvar voidElements = new Set([\"area\", \"base\", \"basefont\", \"br\", \"col\", \"command\", \"embed\", \"frame\", \"hr\", \"img\", \"input\", \"isindex\", \"keygen\", \"link\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"]);\nvar foreignContextElements = new Set([\"math\", \"svg\"]);\nvar htmlIntegrationElements = new Set([\"mi\", \"mo\", \"mn\", \"ms\", \"mtext\", \"annotation-xml\", \"foreignobject\", \"desc\", \"title\"]);\nvar reNameEnd = /\\s|\\//;\nvar Parser = /** @class */function () {\n  function Parser(cbs, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var _a, _b, _c, _d, _e;\n    this.options = options;\n    /** The start index of the last event. */\n    this.startIndex = 0;\n    /** The end index of the last event. */\n    this.endIndex = 0;\n    /**\n     * Store the start index of the current open tag,\n     * so we can update the start index for attributes.\n     */\n    this.openTagStart = 0;\n    this.tagname = \"\";\n    this.attribname = \"\";\n    this.attribvalue = \"\";\n    this.attribs = null;\n    this.stack = [];\n    this.foreignContext = [];\n    this.buffers = [];\n    this.bufferOffset = 0;\n    /** The index of the last written buffer. Used when resuming after a `pause()`. */\n    this.writeIndex = 0;\n    /** Indicates whether the parser has finished running / `.end` has been called. */\n    this.ended = false;\n    this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n    this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : !options.xmlMode;\n    this.lowerCaseAttributeNames = (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : !options.xmlMode;\n    this.tokenizer = new ((_c = options.Tokenizer) !== null && _c !== void 0 ? _c : Tokenizer_js_1.default)(this.options, this);\n    (_e = (_d = this.cbs).onparserinit) === null || _e === void 0 ? void 0 : _e.call(_d, this);\n  }\n  // Tokenizer event handlers\n  /** @internal */\n  Parser.prototype.ontext = function (start, endIndex) {\n    var _a, _b;\n    var data = this.getSlice(start, endIndex);\n    this.endIndex = endIndex - 1;\n    (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n    this.startIndex = endIndex;\n  };\n  /** @internal */\n  Parser.prototype.ontextentity = function (cp) {\n    var _a, _b;\n    /*\n     * Entities can be emitted on the character, or directly after.\n     * We use the section start here to get accurate indices.\n     */\n    var idx = this.tokenizer.getSectionStart();\n    this.endIndex = idx - 1;\n    (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, (0, decode_js_1.fromCodePoint)(cp));\n    this.startIndex = idx;\n  };\n  Parser.prototype.isVoidElement = function (name) {\n    return !this.options.xmlMode && voidElements.has(name);\n  };\n  /** @internal */\n  Parser.prototype.onopentagname = function (start, endIndex) {\n    this.endIndex = endIndex;\n    var name = this.getSlice(start, endIndex);\n    if (this.lowerCaseTagNames) {\n      name = name.toLowerCase();\n    }\n    this.emitOpenTag(name);\n  };\n  Parser.prototype.emitOpenTag = function (name) {\n    var _a, _b, _c, _d;\n    this.openTagStart = this.startIndex;\n    this.tagname = name;\n    var impliesClose = !this.options.xmlMode && openImpliesClose.get(name);\n    if (impliesClose) {\n      while (this.stack.length > 0 && impliesClose.has(this.stack[this.stack.length - 1])) {\n        var el = this.stack.pop();\n        (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, el, true);\n      }\n    }\n    if (!this.isVoidElement(name)) {\n      this.stack.push(name);\n      if (foreignContextElements.has(name)) {\n        this.foreignContext.push(true);\n      } else if (htmlIntegrationElements.has(name)) {\n        this.foreignContext.push(false);\n      }\n    }\n    (_d = (_c = this.cbs).onopentagname) === null || _d === void 0 ? void 0 : _d.call(_c, name);\n    if (this.cbs.onopentag) this.attribs = {};\n  };\n  Parser.prototype.endOpenTag = function (isImplied) {\n    var _a, _b;\n    this.startIndex = this.openTagStart;\n    if (this.attribs) {\n      (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs, isImplied);\n      this.attribs = null;\n    }\n    if (this.cbs.onclosetag && this.isVoidElement(this.tagname)) {\n      this.cbs.onclosetag(this.tagname, true);\n    }\n    this.tagname = \"\";\n  };\n  /** @internal */\n  Parser.prototype.onopentagend = function (endIndex) {\n    this.endIndex = endIndex;\n    this.endOpenTag(false);\n    // Set `startIndex` for next node\n    this.startIndex = endIndex + 1;\n  };\n  /** @internal */\n  Parser.prototype.onclosetag = function (start, endIndex) {\n    var _a, _b, _c, _d, _e, _f;\n    this.endIndex = endIndex;\n    var name = this.getSlice(start, endIndex);\n    if (this.lowerCaseTagNames) {\n      name = name.toLowerCase();\n    }\n    if (foreignContextElements.has(name) || htmlIntegrationElements.has(name)) {\n      this.foreignContext.pop();\n    }\n    if (!this.isVoidElement(name)) {\n      var pos = this.stack.lastIndexOf(name);\n      if (pos !== -1) {\n        if (this.cbs.onclosetag) {\n          var count = this.stack.length - pos;\n          while (count--) {\n            // We know the stack has sufficient elements.\n            this.cbs.onclosetag(this.stack.pop(), count !== 0);\n          }\n        } else this.stack.length = pos;\n      } else if (!this.options.xmlMode && name === \"p\") {\n        // Implicit open before close\n        this.emitOpenTag(\"p\");\n        this.closeCurrentTag(true);\n      }\n    } else if (!this.options.xmlMode && name === \"br\") {\n      // We can't use `emitOpenTag` for implicit open, as `br` would be implicitly closed.\n      (_b = (_a = this.cbs).onopentagname) === null || _b === void 0 ? void 0 : _b.call(_a, \"br\");\n      (_d = (_c = this.cbs).onopentag) === null || _d === void 0 ? void 0 : _d.call(_c, \"br\", {}, true);\n      (_f = (_e = this.cbs).onclosetag) === null || _f === void 0 ? void 0 : _f.call(_e, \"br\", false);\n    }\n    // Set `startIndex` for next node\n    this.startIndex = endIndex + 1;\n  };\n  /** @internal */\n  Parser.prototype.onselfclosingtag = function (endIndex) {\n    this.endIndex = endIndex;\n    if (this.options.xmlMode || this.options.recognizeSelfClosing || this.foreignContext[this.foreignContext.length - 1]) {\n      this.closeCurrentTag(false);\n      // Set `startIndex` for next node\n      this.startIndex = endIndex + 1;\n    } else {\n      // Ignore the fact that the tag is self-closing.\n      this.onopentagend(endIndex);\n    }\n  };\n  Parser.prototype.closeCurrentTag = function (isOpenImplied) {\n    var _a, _b;\n    var name = this.tagname;\n    this.endOpenTag(isOpenImplied);\n    // Self-closing tags will be on the top of the stack\n    if (this.stack[this.stack.length - 1] === name) {\n      // If the opening tag isn't implied, the closing tag has to be implied.\n      (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name, !isOpenImplied);\n      this.stack.pop();\n    }\n  };\n  /** @internal */\n  Parser.prototype.onattribname = function (start, endIndex) {\n    this.startIndex = start;\n    var name = this.getSlice(start, endIndex);\n    this.attribname = this.lowerCaseAttributeNames ? name.toLowerCase() : name;\n  };\n  /** @internal */\n  Parser.prototype.onattribdata = function (start, endIndex) {\n    this.attribvalue += this.getSlice(start, endIndex);\n  };\n  /** @internal */\n  Parser.prototype.onattribentity = function (cp) {\n    this.attribvalue += (0, decode_js_1.fromCodePoint)(cp);\n  };\n  /** @internal */\n  Parser.prototype.onattribend = function (quote, endIndex) {\n    var _a, _b;\n    this.endIndex = endIndex;\n    (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote === Tokenizer_js_1.QuoteType.Double ? '\"' : quote === Tokenizer_js_1.QuoteType.Single ? \"'\" : quote === Tokenizer_js_1.QuoteType.NoValue ? undefined : null);\n    if (this.attribs && !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n      this.attribs[this.attribname] = this.attribvalue;\n    }\n    this.attribvalue = \"\";\n  };\n  Parser.prototype.getInstructionName = function (value) {\n    var idx = value.search(reNameEnd);\n    var name = idx < 0 ? value : value.substr(0, idx);\n    if (this.lowerCaseTagNames) {\n      name = name.toLowerCase();\n    }\n    return name;\n  };\n  /** @internal */\n  Parser.prototype.ondeclaration = function (start, endIndex) {\n    this.endIndex = endIndex;\n    var value = this.getSlice(start, endIndex);\n    if (this.cbs.onprocessinginstruction) {\n      var name = this.getInstructionName(value);\n      this.cbs.onprocessinginstruction(\"!\".concat(name), \"!\".concat(value));\n    }\n    // Set `startIndex` for next node\n    this.startIndex = endIndex + 1;\n  };\n  /** @internal */\n  Parser.prototype.onprocessinginstruction = function (start, endIndex) {\n    this.endIndex = endIndex;\n    var value = this.getSlice(start, endIndex);\n    if (this.cbs.onprocessinginstruction) {\n      var name = this.getInstructionName(value);\n      this.cbs.onprocessinginstruction(\"?\".concat(name), \"?\".concat(value));\n    }\n    // Set `startIndex` for next node\n    this.startIndex = endIndex + 1;\n  };\n  /** @internal */\n  Parser.prototype.oncomment = function (start, endIndex, offset) {\n    var _a, _b, _c, _d;\n    this.endIndex = endIndex;\n    (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, this.getSlice(start, endIndex - offset));\n    (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n    // Set `startIndex` for next node\n    this.startIndex = endIndex + 1;\n  };\n  /** @internal */\n  Parser.prototype.oncdata = function (start, endIndex, offset) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    this.endIndex = endIndex;\n    var value = this.getSlice(start, endIndex - offset);\n    if (this.options.xmlMode || this.options.recognizeCDATA) {\n      (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n      (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n      (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n    } else {\n      (_h = (_g = this.cbs).oncomment) === null || _h === void 0 ? void 0 : _h.call(_g, \"[CDATA[\".concat(value, \"]]\"));\n      (_k = (_j = this.cbs).oncommentend) === null || _k === void 0 ? void 0 : _k.call(_j);\n    }\n    // Set `startIndex` for next node\n    this.startIndex = endIndex + 1;\n  };\n  /** @internal */\n  Parser.prototype.onend = function () {\n    var _a, _b;\n    if (this.cbs.onclosetag) {\n      // Set the end index for all remaining tags\n      this.endIndex = this.startIndex;\n      for (var i = this.stack.length; i > 0; this.cbs.onclosetag(this.stack[--i], true));\n    }\n    (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n  /**\n   * Resets the parser to a blank state, ready to parse a new HTML document\n   */\n  Parser.prototype.reset = function () {\n    var _a, _b, _c, _d;\n    (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n    this.tokenizer.reset();\n    this.tagname = \"\";\n    this.attribname = \"\";\n    this.attribs = null;\n    this.stack.length = 0;\n    this.startIndex = 0;\n    this.endIndex = 0;\n    (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n    this.buffers.length = 0;\n    this.bufferOffset = 0;\n    this.writeIndex = 0;\n    this.ended = false;\n  };\n  /**\n   * Resets the parser, then parses a complete document and\n   * pushes it to the handler.\n   *\n   * @param data Document to parse.\n   */\n  Parser.prototype.parseComplete = function (data) {\n    this.reset();\n    this.end(data);\n  };\n  Parser.prototype.getSlice = function (start, end) {\n    while (start - this.bufferOffset >= this.buffers[0].length) {\n      this.shiftBuffer();\n    }\n    var str = this.buffers[0].slice(start - this.bufferOffset, end - this.bufferOffset);\n    while (end - this.bufferOffset > this.buffers[0].length) {\n      this.shiftBuffer();\n      str += this.buffers[0].slice(0, end - this.bufferOffset);\n    }\n    return str;\n  };\n  Parser.prototype.shiftBuffer = function () {\n    this.bufferOffset += this.buffers[0].length;\n    this.writeIndex--;\n    this.buffers.shift();\n  };\n  /**\n   * Parses a chunk of data and calls the corresponding callbacks.\n   *\n   * @param chunk Chunk to parse.\n   */\n  Parser.prototype.write = function (chunk) {\n    var _a, _b;\n    if (this.ended) {\n      (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".write() after done!\"));\n      return;\n    }\n    this.buffers.push(chunk);\n    if (this.tokenizer.running) {\n      this.tokenizer.write(chunk);\n      this.writeIndex++;\n    }\n  };\n  /**\n   * Parses the end of the buffer and clears the stack, calls onend.\n   *\n   * @param chunk Optional final chunk to parse.\n   */\n  Parser.prototype.end = function (chunk) {\n    var _a, _b;\n    if (this.ended) {\n      (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, Error(\".end() after done!\"));\n      return;\n    }\n    if (chunk) this.write(chunk);\n    this.ended = true;\n    this.tokenizer.end();\n  };\n  /**\n   * Pauses parsing. The parser won't emit events until `resume` is called.\n   */\n  Parser.prototype.pause = function () {\n    this.tokenizer.pause();\n  };\n  /**\n   * Resumes parsing after `pause` was called.\n   */\n  Parser.prototype.resume = function () {\n    this.tokenizer.resume();\n    while (this.tokenizer.running && this.writeIndex < this.buffers.length) {\n      this.tokenizer.write(this.buffers[this.writeIndex++]);\n    }\n    if (this.ended) this.tokenizer.end();\n  };\n  /**\n   * Alias of `write`, for backwards compatibility.\n   *\n   * @param chunk Chunk to parse.\n   * @deprecated\n   */\n  Parser.prototype.parseChunk = function (chunk) {\n    this.write(chunk);\n  };\n  /**\n   * Alias of `end`, for backwards compatibility.\n   *\n   * @param chunk Optional final chunk to parse.\n   * @deprecated\n   */\n  Parser.prototype.done = function (chunk) {\n    this.end(chunk);\n  };\n  return Parser;\n}();\nexports.Parser = Parser;","map":{"version":3,"mappings":"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","names":["formTags","Set","pTag","tableSectionTags","ddtTags","rtpTags","openImpliesClose","Map","voidElements","foreignContextElements","htmlIntegrationElements","reNameEnd","cbs","options","lowerCaseTagNames","lowerCaseTags","xmlMode","lowerCaseAttributeNames","tokenizer","Tokenizer","Tokenizer_js_1","onparserinit","Parser","start","endIndex","data","getSlice","ontext","startIndex","cp","idx","getSectionStart","name","has","toLowerCase","emitOpenTag","openTagStart","tagname","impliesClose","get","stack","length","el","pop","onclosetag","isVoidElement","push","foreignContext","onopentagname","onopentag","attribs","isImplied","endOpenTag","pos","lastIndexOf","count","closeCurrentTag","recognizeSelfClosing","onopentagend","isOpenImplied","attribname","attribvalue","quote","onattribute","Double","Single","NoValue","undefined","Object","prototype","hasOwnProperty","call","value","search","substr","onprocessinginstruction","getInstructionName","offset","oncomment","oncommentend","recognizeCDATA","oncdatastart","oncdataend","i","onend","onreset","reset","buffers","bufferOffset","writeIndex","ended","end","shiftBuffer","str","slice","shift","chunk","onerror","Error","running","write","pause","resume","exports"],"sources":["https://raw.githubusercontent.com/fb55/htmlparser2/4763205746cd80120b5d2b69041197a394d24ba9/src/Parser.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}